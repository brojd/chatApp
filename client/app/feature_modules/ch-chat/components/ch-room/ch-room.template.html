<section class="ui center aligned grid">
	<section class="ui list three wide column">
		<ch-feed [feed]="feed"></ch-feed>
	</section>
	<section class="ten wide left aligned column">
		<div class="ui segment">
			<header class="ui centered header">{{roomName}}</header>
			<ch-messages-window [messages]="messages" (onDownloadClicked)="handleDownloadFileClick($event)"></ch-messages-window>
			<div class="ui center aligned form">
				<textarea [ngModel]="messageText | emojify"
									(ngModelChange)="messageText=$event"
									(keyup.enter)="sendMessage()">
				</textarea>
			</div>
			<div class="ui form">
				<div class="inline fields">
					<div class="field">
						<input type="file" (change)="handleUploadFile($event)"/>
						<img src='./images/loadingFile.gif' alt='spinner' *ngIf="isFileUploading" />
						<i class="checkmark green icon" *ngIf="isFileUploaded"></i>
					</div>
					<p>{{ emo | emojify }}</p>
					<div class="field">
						<button type="button" (click)="uploadFileToServer()" [disabled]="!isFileUploaded" class="ui button">Send file</button>
					</div>
					<ch-emoji-picker></ch-emoji-picker>
				</div>
			</div>
		</div>
	</section>
</section>
